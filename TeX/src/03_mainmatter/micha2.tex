\textit{Resolver una ecuación de recurrencia} significa encontrar una sucesión que satisfaga las ecuaciones de recurrencias. Encontrar una ``solución general'' significa hallar una fórmula que describa todas las soluciones posibles (todas las sucesiones posibles que satisfacen la ecuación). Veamos el siguiente ejemplo:

\begin{example}{}
	Considere que $T_{n}$ satisface la siguiente ecuación para todo $n\in\mathds{N}$, $n>1$:
	\begin{equation*}
	T_{n}=2T_{n-1}+1.
	\end{equation*}
	La ecuación de recurrencia $T_{n}$ indica cómo continúa la sucesión pero no nos dice como empieza tal. % TODO: Crear una tabla de valores.
	\begin{itemize}
		\item Si $T_{1}=1$, se tiene $T=\left(1,7,3,15,31,\ldots\right)$.
		\item Si $T_{2}=1$, se tiene $T=\left(2,5,11,23,47,\ldots\right)$.
		\item Si $T_{4}=1$, se tiene $T=\left(4,9,19,39,79,\ldots\right)$.
		\item Si $T_{-1}=1$, se tiene $T=\left(-1,-1,-1,1-1,-1,\ldots\right)$.
	\end{itemize}
	?`Existe alguna fórmula para cada una de estas sucesiones? ?`Existe una fórmula en términos de $n$ y $T_{1}$ que describa todos los términos de la sucesión? ?`Existe una posible solución para $T_{n}$? Para poder responder este tipo de problemas, veamos un poco más de ecuaciones con recurrencia.
\end{example}

\section{Ejemplos definidos por ecuaciones de recurrencia}
% TODO: Checkear transtornada por permutada.
\begin{example}{}
	Imagina una fiesta donde las parejas llegan juntas, pero al final de la noche, cada persona se va con una nueva pareja. Para cada $n\in P$, digamos que $D_{n}$ es el número de diferentes formas en que las parejas pueden ser ``trastornadas'', es decir, reorganizadas en parejas, por lo que ni uno está emparejado con la persona con la que llegaron.

	Para los valores:

	$D_{1} = 0$  // una pareja no puede ser transtornada.

	$D_{2} = 1$  // $\exists$ una y solo una manera de transtornar una pareja.

	$D_{3} = 2$  // si las parejas llegan como $Aa$, $Bb$, $Cc$, entonces $A$ estaría emparejado con $b$ o $c$. Si $A$ esta emparejado con $b$, $C$ debe estar emparejado con $a$(y no $c$) y $B$ con $c$. Si $A$ esta emparejado con $c$, $B$ no debe estar emparejado con $a$(y no $b$) y $C$ con $b$.

	?`Qué tan grandes son $D_{4}$, $D_{5}$ y $D_{10}$? ?`Cómo podemos calcularlos? ?`Existe alguna expresión cerrada para obtener todos los términos de la? % TODO: Sucesión.

	Vamos a desarrollar una estrategia para contar los desajustes cuando $n\leq4$. Supongamos que hay $n$ mujeres $A_{1},A_{2},A_{3},\ldots,A_{n}$, y cada $A_{j}$ llega con el hombre $a_{j}$.

	La mujer $A_{1}$ puede ser ``re-emparejada'' con cualquiera de los $n-1$ hombres restantes $a_{2}$ o $a_{3}$ o \ldots o $a_{n}$. Digamos que está emparejada con $a_{k}$, donde $2\leq k\leq n$ y ahora consideremos $a_{k}^{\prime}$ pareja original de la mujer $A_{k}$: ella podría tomar $a_{1}$ o ella podría rechazar $a_{1}$ y tomar a alguien más.
	% TODO: Checkearlo.
	
	Si $A_{1}$ es pareja con $a_{k}$ y $A_{k}$ es pareja con $a_{1}$, entonces $n-2$ parejas dejaron para transtornar, y eso puede hacerse exactamente de $D_{n-2}$ maneras diferente.
	% TODO: Cambiar hacerse.

	Ahora para cada uno de los $n-1$ hombres que $A_{1}$ podría elegir, hay $\{D_{n-2}+ D_{n-1}\}$ diferentes formas de completar el trastorno. Por lo tanto, cuando $n\geq 4$ tenemos:
\begin{equation*}\label{eq:1_1}
D_{n}=\left(n-1\right)\left\{D_{n-2}+D_{n-1}\right\}%\tag{1_1}
\end{equation*}
Usando la ecuación \eqref{eq:1_1} las evaluaciones para 1 y 2 verifican la igualdad, ahora evaluemos $D_{n}$ para cualquier valor de $n$, con $n\in\mathds{N}$

$D_{3}=\left(3-1\right)\left\{D_{2}+D_{1}\right\}=2\left(1+8\right)=2$

$D_{4}=\left(4 - 1\right)\left\{D_{3}+D_{2}\right\}=3\left(2+1\right)=9$

$D_{5}=\left(5-1\right)\left\{D_{4}+D_{3}\right\}=4\left(9+2\right)=44$

$D_{6}=(6-1)\left\{D_{5}+D_{4}\right\}=5\left(44 + 9\right)=265$

$D_{7}=\left(7-1\right)\left\{D_{6}+D_{5}\right\}=6\left(265+44\right)=1854$

$D_{8}=\left(8-1\right)\left\{D_{7}+D_{6}\right\}=7\left(1854+265\right)=14833$

$D_{9}=\left(9-1\right)\left\{D_{8}+D_{7}\right\}=8\left(14833+1854\right)=133496$

$D_{10}=\left(10-1\right)\left\{D_{9}+D_{8}\right\}=9\left(133496+14833\right)=1334961$

La sucesión en $P$ definido por $S_{n}=A\times n!$ donde $A$ es un número real satisface la ecuación de recurrencia \eqref{eq:1_1}. Si $n\geq3$ se tiene:
\begin{align*}
	\left(n-1\right)\left\{S_{n-2}+S_{n-1}\right\}
	&=(n-1)\{A(n-2)!+A(n-1)!\} \\
	&=(n-1)A(n-2)!\{1+(n-1)\} \\
	&=A(n-1)(n-2)!\{n\}\\
	&=A\times n!\\
	&=S_{n}.
\end{align*}
?`Es válida la fórmula para $n=1$ o $n=2$? ?`Existe algún número real tal que $D_{n}=A(n!)$ cuando $n=1$ o $n=2$? No, porque si $0=D_{1}=A(1!)$, entonces $A$ debe ser igual a $0$, y si $1=D_{2}=A(2!)$, se tiene que $A$ debería tomar el valor de $\frac{1}{2}$. Sin embargo, podemos usar esta fórmula para probar que $D_{n}$ es acotado.
\end{example}

\begin{theorem}{}
Para todo $n\geq 2$, $\left(\frac{1}{3}\right)n!\leq D_{n}\leq\left(\frac{1}{2}\right)n!$.
\end{theorem}

\begin{example}{Números de Ackermann}\index{Ackermann!número}
	En la década de 1920's, el lógico y matemático alemán, Wilhelm Ackermann (1896–1962), inventó una función muy curiosa, $A\colon P\times P\rightarrow P$ que define recursivamente usando ``tres reglas'':
	\begin{enumerate}[Regla 1]
		\item $A(1,n)=2$ para $n=1,2,\ldots$.
		\item $A(m,1)=2m$ para $m=2,3,\ldots$.
		\item Cuando $m>1$ y $n>1$ se tiene $A(m,n)=A(A(m-1,n),n-1)$.
	\end{enumerate}
\end{example}

\begin{align*}
	\intertext{Entonces}
	A(2,2)
	&=A(A(2-1,2),2-1) //regla~3\\
	&= A(A(1,2),1)\\
	&= A(2,1)//regla~ 1\\
	&= 2(2)  //regla~2\\
	&= 4.
	\intertext{además}
	A(2,3) &= A(A(2-1,3),3-1) //regla~3\\
	&= A(A(1,3),2)\\
	&= A(2,2)  //regla 1\\
	&= 4.
	\intertext{De hecho}
	si~A(2,k) &= 4, // para algun k\geq2
	\intertext{entonces}
	A(2,k+1) &= A(A(2-1,k+1), (k+1)-1) // regla~3 \\
				   &=A(A(1,k+1),k)\\
				   &=A(2,k) //regla~1 \\
				   &=4.// nuestro~supuesto
	\intertext{Así, tenemos por inducción matemática:}
	A(2,n) &= 4,  \forall n\geq1.
\end{align*}
Hasta ahora la tabla de los números de Ackermann se ve así:
\begin{equation*}
\begin{tabular}{ c| c| c| c| c| c| c| c| c| r }
A & n=1 & n=2 & 3 & 4 & 5 & 6 & 7 & 8 & 9... \\
\hline
m=1 & 2 & 2 & 2 & 2 & 2 & 2 & 2 & 2 & 2 \\
\hline
m=2 & 4 & 4 & 4 & 4 & 4 & 4 & 4 & 4 & 4 \\
\hline
3   & 6 &  &  &  &  &  &  &  &  \\
\hline
4   & 8 &  &  &  &  &  &  &  &  \\
\hline
5  & 10 &  &  &  &  &  &  &  &  \\
\end{tabular}
\end{equation*}
Observamos que la segunda fila es de puro 4s. ?`Pero cómo es la segunda columna?
\begin{align*}
	\intertext{Si}
	A(k,2)
	&= 2^{k} // para algunos k \geq 2 \\
	\intertext{se tiene}
	&= A(A([k+1],2-1) // regla 3\\
	&= A(A(k,2),1) \\
	&= A(2^{k},1) // nuestro supuesto \\
	&= 2(2^{k}) //~regla~2\\
	&= 2^{k+1}.
	\intertext{además}
	A(2,3) &= A(A(2-1,3),3-1) //regla~3\\
	&= A(A(1,3),2)\\
	&= A(2,2)  //regla 1\\
	&= 4.
	\intertext{Asi se tiene:}
	A(m,2)=2^{m} \forall m\geq1. \\
	\intertext{Ahora, ?`como son los otros valores?}
	A(3,3)
	&= A(A(3-1),3),3-1) // Regla~3\\
	&= A(A(2,3), 2)  \\
	&=A(4,2) // Segunda~fila \\
	&=2^{4} // segunda~columna\\
	&=16.\\
	A(4,3) &= A(A(4-1),3),3-1 // Regla~3\\
	&= A(A(3,3), 2) \\
	&=A(16,2) // Encima\\
	&=2^{16} // Segunda columna\\
	&=65536.\\
	A(3,4) &= A(A(3-1),3),4-1 // Regla~3\\
	&= A(A(2,4), 3) \\
	&=A(4,3) // Segunda fila\\
	&=65536.\\
	\intertext{?`Cual es el valor de A(4,4)?
	?`Podría ejecutar un programa recursivo simple para evaluar A (4,4)?}
	A(5,3) &= A(A(5-1),3),3-1 // Regla~3\\
	&= A(A(4,3), 2) \\
	&=A(65536,2) \\
	&=2^{65536}.// Segunda~columna\\
	&=n(n grande aprox 20000 digitos en base 10.)\\
	\intertext{hasta ahora tenemos:}
\end{align*}
\begin{equation*}
\begin{tabular}{c|c|c|c|c|c|c|c|c|r}
A & n=1 & n=2 & 3 & 4 & 5 & 6 & 7 & 8 & 9... \\
\hline
m=1 & 2 & 2 & 2 & 2 & 2 & 2 & 2 & 2 & 2 \\
\hline
m=2 & 4 & 4 & 4 & 4 & 4 & 4 & 4 & 4 & 4 \\
\hline
3   & 6 & 8 & 16 & 65536 & ? &  &  &  &  \\
\hline
4   & 8 & 16 & 65536 & ? &  &  &  &  &  \\
\hline
5  & 10 & 32 & $2^{65536}$ &  &  &  &  &  &  \\
\end{tabular}
\end{equation*}
?`Cómo continúa la tercera columna? Sea $2\uparrow$ denota el valor de ``Torre'' de k 2's, definida recursivamente por \[ 2\uparrow 1=2 \text{ y para } k\geq1,2\uparrow[k+1]=2^{2\uparrow k}. \]
Pero este es un número tan grande que nunca podría escribirse en dígitos decimales, incluso utilizando todo el papel del mundo, Su valor nunca podría ser calculado. Ahora nos preguntamos ?`Los números Ackermann son ``computables''? Por otro lado, supongamos que las sucesiones que encontramos, incluso aquellas definidas por ecuaciones de recurrencia, serán fáciles para entender y tratar.